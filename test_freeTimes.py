from freeTimes import *

def test_none_event():
    res = free_time("2016-11-19","2016-11-19","2016-11-19T08:00:00:00", "2016-11-19T17:00:00:00", [])
    assert len(res) == 1
    res = free_time("2016-11-17","2016-11-19","2016-11-17T08:00:00:00", "2016-11-19T17:00:00:00", [])
    assert len(res) == 3

def test_single_event():
  busyevents = [{'start': "2016-11-17T08:00:00:00", 'end': "2016-11-17T08:30:00:00"}]

  events = free_time("2016-11-17","2016-11-17","2016-11-17T08:00:00:00", "2016-11-17T17:00:00:00", busyevents)
  assert events == [{'end': '2016-11-17 17:00',  'start': '2016-11-17 08:30'}]

def test_multiple_events():
  busyevents = [{ 'start': "2016-11-17T08:00:00:00", 'end': "2016-11-17T08:30:00:00"},
                { 'start': "2016-11-17T13:21:00:00", 'end': "2016-11-17T15:55:00:00"}]
  events = free_time("2016-11-17","2016-11-17","2016-11-17T08:00:00:00", "2016-11-17T17:00:00:00",
          busyevents)
  assert events == [{'end': '2016-11-17 13:21', 'start': '2016-11-17 08:30'},
                    {'end': '2016-11-17 17:00', 'start': '2016-11-17 15:55'}]

