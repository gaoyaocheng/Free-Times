<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html lang="en"> <head>
        <title>View Meeting</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Include Required Prerequisites -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap/latest/css/bootstrap.css" />
        <!-- Include Date Range Picker -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
        <!-- Our own style sheet -->
        <link rel="stylesheet" href="/static/css/busy.css" />
    </head>

    <body>
        <div class="container">

            <h1>View Meeting</h1>

            Title: <input type="text" id="title" size=50 
            value="{{session.current_meeting.title}}" readonly><br><br>
            Proposer: <input type="text" id="proposer" 
            value="{{session.current_meeting.proposer_name}}" readonly><br><br>
            Description: <textarea id="desc" rows=4 cols=50 
                readonly>{{session.current_meeting.desc}}</textarea><br><br>
            Date Range: <input type="text" id="daterange" size="24" 
            value="{{session.current_meeting.start_date}} - {{session.current_meeting.end_date}}"readonly>
            <br><br>
            from <input type="time" id="begin_time" 
            value="{{session.current_meeting.start_time}}" readonly>
            to <input type="time" id="end_time" value="{{session.current_meeting.end_time}}" readonly>
            <br>
            <hr>
            <h3>Send this link to invitees:</h3> <input type="text" size="65" id="invite_link" value="" readonly>

            <h3>get respnose from these user: </h3>
            {% if session.names is defined %}
            {% for name in session.names %}
            <div class="row">
                <div class="col-md-4">
                    {{ name }}
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="row">
                <div class="col-md-4">
                    No response so far.
                </div>
            </div>
            {% endif %}

            <h3>free times:</h3>
            {% if session.free_times is defined %}
            {% if session.free_times is equalto []%}
            <div class="row">
                <div class="col-md-4">
                    There are not non-conflicting times. : (
                </div>
            </div>
            {% else %}
            {% for start, end in session.free_times %}
            <div class="row">
                <div class="col-md-4">
                    {{ start  }} - {{ end }}
                </div>
            </div>    
            {% endfor %}
            {% endif %}
            {% endif %}

        </div>  <!-- end container (for bootstrap) -->
    </body> 

    <script>
        $("#invite_link").val(window.location.href.replace("meeting_detail","respond"));

    </script>
</html>
